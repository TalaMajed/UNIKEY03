<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UniKey - Dashboard</title>
    <!-- css -->
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="css/framework.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
    <link rel="stylesheet" href="css/side.css" />
    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <style>
        
    </style>
</head>

<body>
    <div class="page d-flex">
        <!-- Sidebar Navigation -->
        <div class="sidebar bg-white p-20 p-relative">
            <h3 class="p-relative txt-c mt-0">UniKey</h3>
            <ul>
                <li>
                    <a class="active d-flex align-center fs-14 c-black rad-6 p-10" href="dashboard.html">
                        <i class="fa-regular fa-chart-bar fa-fw"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="settings.html">
                        <i class="fa-solid fa-gear fa-fw"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="map.html">
                        <i class="fa-solid fa-map"></i>
                        <span>Map</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="lost.html">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <span>Lost/Found</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="portals.html">
                        <i class="fa-solid fa-door-open"></i>
                        <span>Portals</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="event.html">
                        <i class="fa-regular fa-calendar"></i>
                        <span>Events</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="announcement.html">
                        <i class="fa-solid fa-bullhorn"></i>
                        <span>Announcements</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="marketplace.html">
                        <i class="fa-solid fa-store"></i>
                        <span>Marketplace</span>
                    </a>
                </li>
                <li>
                    <a class="d-flex align-center fs-14 c-black rad-6 p-10" href="help.html">
                        <i class="fa-solid fa-circle-info"></i>
                        <span>Help</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="content w-full">
            <!-- Header -->
            <div class="head bg-white p-15 between-flex">
                <div class="search p-relative">
                    <input class="p-10" type="search" placeholder="Type A Keyword" />
                </div>
                <div class="icons d-flex align-center">
                    <span class="notification p-relative">
                        <i class="fa-solid fa-globe"></i>
                        <i class="fa-solid fa-user"></i>
                        <i class="fa-regular fa-bell fa-lg"></i>
                    </span>
                </div>
            </div>

            <!-- User Profile Section -->
            <div class="user-profile-header">
                <img src="imgs/profile-pc.JPG" alt="User Avatar" class="user-avatar">
                <div class="user-info">
                    <h2>Tala Hammami</h2>
                    <p>King Abdullah II Faculty of Information Technology</p>
                    <p>Computer Information System</p>
                    <div class="user-stats">
                        <div class="stat-box">
                            <i class="fa-solid fa-calendar-check"></i> 2 Events
                        </div>
                        <div class="stat-box">
                            <i class="fa-solid fa-magnifying-glass"></i> 1 Lost Items
                        </div>
                        <div class="stat-box">
                            <i class="fa-solid fa-store"></i> 2 Marketplace
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Section -->
            <div class="dashboard-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-map-location-dot"></i> Your Map Activity
                </h2>

                <div class="items-grid">
                    <div class="item-card">
                        <div class="item-actions">
                            <button class="action-btn" title="Edit">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="action-btn" title="Delete">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <h3>Saved Location</h3>
                        <p>Faculty Cafeteria</p>
                        <div class="map-preview">
                            <img src="imgs/cafeteria-preview.jpg" alt="Cafeteria Preview">
                            <div class="map-label">IT Building Cafeteria</div>
                        </div>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-bookmark"></i> Saved location</span>
                        </div>
                    </div>
                </div>

                <div class="view-all">
                    <a href="map.html">View Full Map →</a>
                </div>
            </div>

            <!-- Upcoming Events Section -->
            <div class="dashboard-section">
                <h2 class="section-title">
                    <i class="fa-regular fa-calendar"></i> Your Registered Events
                </h2>

                <div class="items-grid">
                    <div class="item-card">
                        <div class="item-actions">
                            
                            <button class="action-btn delete-event-btn" title="Cancel Registration"
                                data-event="Tech Conference 2025">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <h3>Tech Conference 2025</h3>
                        <p>Annual technology conference featuring industry leaders and workshops on emerging
                            technologies.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-calendar-days"></i> May 15, 2025</span>
                            <span class="status status-registered">Registered</span>
                        </div>
                    </div>

                    <div class="item-card">
                        <div class="item-actions">
                            
                            <button class="action-btn delete-event-btn" title="Cancel Registration"
                                data-event="Alumni Networking">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <h3>Alumni Networking</h3>
                        <p>Connect with successful alumni from your faculty and learn from their experiences.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-calendar-days"></i> June 10, 2025</span>
                            <span class="status status-registered">Registered</span>
                        </div>
                    </div>
                </div>

                <div class="view-all">
                    <a href="event.html">View All Events →</a>
                </div>
            </div>

            <!-- Lost & Found Items Section -->
            <div class="dashboard-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-magnifying-glass"></i> Your Lost & Found Items
                </h2>

                <div class="items-grid">
                    <div class="item-card">
                        <div class="item-actions">
                            <button class="action-btn expire-btn" title="Mark as expired">
                                <i class="fa-solid fa-clock"></i>
                            </button>
                            <button class="action-btn" title="Edit">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="action-btn delete-item-btn" title="Delete" data-item="Student ID">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <h3>Found: Student ID</h3>
                        <p>Found near the library entrance. ID belongs to Ahmad Mohammad.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> 2 days ago</span>
                            <span class="status status-found">Found</span>
                        </div>
                    </div>

                    <div class="item-card">
                        <div class="item-actions">
                            <button class="action-btn" title="Edit">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="action-btn delete-item-btn" title="Delete" data-item="Calculus Textbook">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <h3>Lost: Calculus Textbook</h3>
                        <p>Lost in the cafeteria area. Has personal notes inside.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> 1 week ago</span>
                            <span class="status status-missing">Still Missing</span>
                        </div>
                    </div>
                </div>

                <div class="view-all">
                    <a href="lost.html">View All Items →</a>
                </div>
            </div>

            <!-- Marketplace Section -->
            <div class="dashboard-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-store"></i> Your Marketplace Activity
                </h2>

                <div class="items-grid">
                    <div class="item-card">
                        <div class="item-actions">
                            <button class="action-btn" title="Edit">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="action-btn delete-marketplace-btn" title="Delete"
                                data-item="Calculus Textbook">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <div class="marketplace-item">
                            <img src="imgs/calculus-book.jpg" alt="Calculus Textbook">
                            <div class="marketplace-info">
                                <h4>Calculus Textbook</h4>
                                <p>Excellent condition, barely used</p>
                                <p>Book Material</p>
                            </div>
                        </div>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> Posted 3 days ago</span>
                            <span>3 interested</span>
                        </div>
                    </div>

                    <div class="item-card">
                        <div class="item-actions">
                            <button class="action-btn" title="Edit">
                                <i class="fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="action-btn delete-marketplace-btn" title="Delete"
                                data-item="Linear Algebra Textbook">
                                <i class="fa-solid fa-trash-can"></i>
                            </button>
                        </div>
                        <div class="marketplace-item">
                            <img src="imgs/algebra-book.jpg" alt="Linear Algebra Textbook">
                            <div class="marketplace-info">
                                <h4>Linear Algebra Textbook</h4>
                                <p>With solved problems and notes</p>
                                <p>Book Material</p>
                            </div>
                        </div>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> Posted 1 week ago</span>
                            <span>1 interested</span>
                        </div>
                    </div>
                </div>

                <div class="view-all">
                    <a href="marketplace.html">View All Marketplace Items →</a>
                </div>
            </div>

            <!-- Confirmation Dialog -->
            <div class="confirmation-dialog" id="confirmationDialog">
                <div class="confirmation-box">
                    <h3>Confirm Deletion</h3>
                    <p id="confirmationMessage">Are you sure you want to delete this item?</p>
                    <div class="confirmation-buttons">
                        <button class="cancel-btn" id="cancelDelete">Cancel</button>
                        <button class="confirm-btn" id="confirmDelete">Delete</button>
                    </div>
                </div>
            </div>

            <!-- Recent Announcements Section -->
            <div class="dashboard-section">
                <h2 class="section-title">
                    <i class="fa-solid fa-bullhorn"></i> Recent Announcements
                </h2>

                <div class="items-grid">
                    <div class="item-card">
                        <h3>Exam Schedule Update</h3>
                        <p>Changes to the final exam schedule for Computer Science courses.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> Yesterday</span>
                            <span>IT Department</span>
                        </div>
                    </div>

                    <div class="item-card">
                        <h3>Campus Maintenance</h3>
                        <p>Library will be closed this Saturday for maintenance work.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> 3 days ago</span>
                            <span>University Admin</span>
                        </div>
                    </div>

                    <div class="item-card">
                        <h3>Scholarship Opportunity</h3>
                        <p>Applications now open for the Dean's Scholarship program.</p>
                        <div class="item-meta">
                            <span><i class="fa-solid fa-clock"></i> 1 week ago</span>
                            <span>Student Affairs</span>
                        </div>
                    </div>
                </div>

                <div class="view-all">
                    <a href="announcement.html">View All Announcements →</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Confirmation dialog for event deletion
        document.querySelectorAll('.delete-event-btn').forEach(button => {
            button.addEventListener('click', function () {
                const eventName = this.getAttribute('data-event');
                const dialog = document.getElementById('confirmationDialog');
                const message = document.getElementById('confirmationMessage');

                message.textContent = `Are you sure you want to cancel your registration for "${eventName}"? This action cannot be undone.`;
                dialog.style.display = 'flex';

                document.getElementById('confirmDelete').onclick = function () {
                    // Here you would typically make an API call to delete the event
                    const card = button.closest('.item-card');
                    card.style.display = 'none';
                    dialog.style.display = 'none';
                    updateStats();
                };
            });
        });

        // Confirmation dialog for lost/found item deletion
        document.querySelectorAll('.delete-item-btn').forEach(button => {
            button.addEventListener('click', function () {
                const itemName = this.getAttribute('data-item');
                const dialog = document.getElementById('confirmationDialog');
                const message = document.getElementById('confirmationMessage');

                message.textContent = `Are you sure you want to delete the "${itemName}" item? This action cannot be undone.`;
                dialog.style.display = 'flex';

                document.getElementById('confirmDelete').onclick = function () {
                    // Here you would typically make an API call to delete the item
                    const card = button.closest('.item-card');
                    card.style.display = 'none';
                    dialog.style.display = 'none';
                    updateStats();
                };
            });
        });

        // Confirmation dialog for marketplace item deletion
        document.querySelectorAll('.delete-marketplace-btn').forEach(button => {
            button.addEventListener('click', function () {
                const itemName = this.getAttribute('data-item');
                const dialog = document.getElementById('confirmationDialog');
                const message = document.getElementById('confirmationMessage');

                message.textContent = `Are you sure you want to delete the "${itemName}" listing? This action cannot be undone.`;
                dialog.style.display = 'flex';

                document.getElementById('confirmDelete').onclick = function () {
                    // Here you would typically make an API call to delete the item
                    const card = button.closest('.item-card');
                    card.style.display = 'none';
                    dialog.style.display = 'none';
                    updateStats();
                };
            });
        });

        // Expire button functionality for found items
        document.querySelectorAll('.expire-btn').forEach(button => {
            button.addEventListener('click', function () {
                const card = this.closest('.item-card');
                const status = card.querySelector('.status');

                status.textContent = 'Expired';
                status.className = 'status status-expired';
                this.style.display = 'none';
            });
        });

        // Cancel button for confirmation dialog
        document.getElementById('cancelDelete').addEventListener('click', function () {
            document.getElementById('confirmationDialog').style.display = 'none';
        });

        // Update stats counters when items are deleted
        function updateStats() {
            const eventCount = document.querySelectorAll('.dashboard-section:nth-child(3) .item-card:not([style*="display: none"])').length;
            const lostCount = document.querySelectorAll('.dashboard-section:nth-child(4) .item-card:not([style*="display: none"])').length;
            const marketCount = document.querySelectorAll('.dashboard-section:nth-child(5) .item-card:not([style*="display: none"])').length;

            document.querySelectorAll('.user-stats .stat-box')[0].innerHTML = `<i class="fa-solid fa-calendar-check"></i> ${eventCount} Events`;
            document.querySelectorAll('.user-stats .stat-box')[1].innerHTML = `<i class="fa-solid fa-magnifying-glass"></i> ${lostCount} Lost Items`;
            document.querySelectorAll('.user-stats .stat-box')[2].innerHTML = `<i class="fa-solid fa-store"></i> ${marketCount} Marketplace`;
        }
    </script>
</body>

</html>